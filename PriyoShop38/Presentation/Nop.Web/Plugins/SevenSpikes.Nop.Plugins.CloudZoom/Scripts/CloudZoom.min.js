/*
* Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/
(function(n,t){n(document).ready(function(){var l=n(".cloudZoomAdjustPictureOnProductAttributeValueChange"),i=n(".cloudZoomPictureThumbnailsInCarouselData"),e,f,o,h,c;if(l.attr("data-isIntegratedByWidget")==="true"){var s="#sevenspikes-cloud-zoom",a=function(t){var r=t.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow"),u,i,f;if(r!=undefined&&r!==""&&(u=n(r),u!=undefined)){if(i=t.attr("data-zoomWindowElementId"),i==undefined||i==="")return;f="<div id="+i+' style="position: absolute;"><\/div>';n(u).prepend(f)}},r=n(s),u=r.attr("data-defaultImageContainerSelector");if(u==undefined||u==="")return;!t.isMobile()&&t.getViewPort().width>980?(n(u).each(function(){n(this).find(s).length<=0?e=n(this):f=n(this)}),e!=null&&f!=null&&(e.replaceWith(f),f.show()),a(r),n.event.trigger({type:"nopCloudZoomLoadCompletedEvent"})):r.length>0&&n(u).length>1&&r.closest(".gallery").remove()}if(i.length>0&&(o=parseInt(i.attr("data-numVisible"))||4,h=i.attr("data-vertical")==="true",n("#carousel").jcarousel({vertical:h,numVisible:o,scroll:1,wrap:"none",size:parseInt(i.attr("data-size"))||0,rtl:i.attr("data-rtl")==="true"}),i.attr("data-vertical")==="true"?(c=n("#carousel li").outerHeight(!0),n("#carousel").parent().css({height:c*o+"px"})):n("#carousel").css({width:"20000em","font-size":"13px"}),n(".jcarousel-prev, .jcarousel-next").disableTextSelect()),n(".cloudZoomEnableClickToZoom").length>0)n(".picture").on("click",".mousetrap",function(){var t=[],u=function(n,t){this.src=n;this.title=t},r,i;for(n(".picture-thumbs a.cloud-zoom-gallery").length<1&&t.push(new u(n(".picture a.cloud-zoom").attr("href"),n(".picture a.cloud-zoom").attr("title"))),n(".picture-thumbs a.cloud-zoom-gallery").each(function(){t.push(new u(n(this).attr("href"),n(this).attr("title")))}),r=0,i=0;i<t.length;i++)if(t[i].src===n(".picture a.cloud-zoom").attr("href")){r=i;break}n.magnificPopup.open({items:t,type:"image",removalDelay:300,gallery:{enabled:!0}},r)});n(document).on("product_attributes_changed",function(t){if(t.changedData&&t.changedData.pictureFullSizeUrl){var i=t.changedData.pictureFullSizeUrl;n('.cloud-zoom-gallery[href="'+i+'"]').click();n.event.trigger({type:"nopMainProductImageChanged",pictureDefaultSizeUrl:i,pictureFullSizeUrl:i})}})})})(jQuery,sevenSpikes);